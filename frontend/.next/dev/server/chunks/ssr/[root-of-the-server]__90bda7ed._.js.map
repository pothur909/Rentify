{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 17, "column": 0}, "map": {"version":3,"sources":["file:///D:/Quaantisc/Rentify/frontend/app/broker-login/page.tsx"],"sourcesContent":["// \"use client\";\r\n\r\n// import { useState, useEffect } from \"react\";\r\n// import { useAuthContext } from \"../context/AuthContext\";\r\n\r\n// export default function BrokerLogin() {\r\n//   const { login } = useAuthContext();\r\n//   const [phoneNumber, setPhoneNumber] = useState(\"\");\r\n//   const [otp, setOtp] = useState(\"\");\r\n//   const [step, setStep] = useState<\"phone\" | \"otp\">(\"phone\");\r\n//   const [timer, setTimer] = useState(0);\r\n//   const [canResend, setCanResend] = useState(true);\r\n//   const [message, setMessage] = useState(\"\");\r\n\r\n//   const baseUrl = process.env.NEXT_PUBLIC_BASE_URL || \"http://localhost:7000\";\r\n\r\n//   // Countdown timer\r\n//   useEffect(() => {\r\n//     if (timer <= 0) return;\r\n//     const interval = setInterval(() => setTimer(t => t - 1), 1000);\r\n//     return () => clearInterval(interval);\r\n//   }, [timer]);\r\n\r\n//   useEffect(() => {\r\n//     setCanResend(timer <= 0);\r\n//   }, [timer]);\r\n\r\n//   // Send OTP\r\n//   const sendOtp = async () => {\r\n//     if (!phoneNumber) return;\r\n//     try {\r\n//       const res = await fetch(`${baseUrl}/api/brokers/login/request-otp`, {\r\n//         method: \"POST\",\r\n//         headers: { \"Content-Type\": \"application/json\" },\r\n//         body: JSON.stringify({ phoneNumber }),\r\n//       });\r\n//       const data = await res.json();\r\n//       if (res.ok) {\r\n//         setStep(\"otp\");\r\n//         setTimer(30); // start 30 sec countdown\r\n//         setMessage(\"OTP sent to your phone\");\r\n//       } else setMessage(data.message);\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       setMessage(\"Failed to send OTP\");\r\n//     }\r\n//   };\r\n\r\n//   // Verify OTP\r\n//   const verifyOtp = async () => {\r\n//     try {\r\n//       const res = await fetch(`${baseUrl}/api/brokers/login/verify`, {\r\n//         method: \"POST\",\r\n//         headers: { \"Content-Type\": \"application/json\" },\r\n//         body: JSON.stringify({ phoneNumber, otp }),\r\n//       });\r\n//       const data = await res.json();\r\n//       if (res.ok) {\r\n//         // Login in context\r\n//         login(\"demo-token\", data.data); // replace \"demo-token\" with actual token from API\r\n//       } else setMessage(data.message);\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       setMessage(\"Failed to verify OTP\");\r\n//     }\r\n//   };\r\n\r\n//   // Change phone number\r\n//   const changePhoneNumber = () => {\r\n//     setStep(\"phone\");\r\n//     setOtp(\"\");\r\n//     setMessage(\"\");\r\n//     setTimer(0);\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"p-8 max-w-md mx-auto text-black bg-white rounded\">\r\n//       {step === \"phone\" ? (\r\n//         <>\r\n//           <h2 className=\"text-2xl font-bold mb-4\">Broker Login</h2>\r\n//           <input\r\n//             placeholder=\"Phone +91...\"\r\n//             value={phoneNumber}\r\n//             onChange={e => setPhoneNumber(e.target.value)}\r\n//             className=\"border p-2 w-full mb-2\"\r\n//           />\r\n//           <button\r\n//             onClick={sendOtp}\r\n//             className=\"bg-blue-500 text-white p-2 w-full\"\r\n//           >\r\n//             Send OTP\r\n//           </button>\r\n//         </>\r\n//       ) : (\r\n//         <>\r\n//           <h2 className=\"text-2xl font-bold mb-4\">Enter OTP</h2>\r\n//           <input\r\n//             placeholder=\"OTP\"\r\n//             value={otp}\r\n//             onChange={e => setOtp(e.target.value)}\r\n//             className=\"border p-2 w-full mb-2\"\r\n//           />\r\n//           <button\r\n//             onClick={verifyOtp}\r\n//             className=\"bg-green-500 text-white p-2 w-full mb-2\"\r\n//           >\r\n//             Verify OTP & Login\r\n//           </button>\r\n\r\n//           <button\r\n//             onClick={changePhoneNumber}\r\n//             className=\"bg-gray-300 p-2 w-full mb-2\"\r\n//           >\r\n//             Change Phone Number\r\n//           </button>\r\n\r\n//           <button\r\n//             onClick={sendOtp}\r\n//             className={`p-2 w-full ${canResend ? \"bg-blue-500 text-white\" : \"bg-gray-300 text-gray-600 cursor-not-allowed\"}`}\r\n//             disabled={!canResend}\r\n//           >\r\n//             {canResend ? \"Resend OTP\" : `Resend OTP in ${timer}s`}\r\n//           </button>\r\n//         </>\r\n//       )}\r\n//       {message && <p className=\"mt-2 text-red-500\">{message}</p>}\r\n//     </div>\r\n//   );\r\n// }\r\n"],"names":[],"mappings":"AAAA,gBAAgB;AAEhB,+CAA+C;AAC/C,2DAA2D;AAE3D,0CAA0C;AAC1C,wCAAwC;AACxC,wDAAwD;AACxD,wCAAwC;AACxC,gEAAgE;AAChE,2CAA2C;AAC3C,sDAAsD;AACtD,gDAAgD;AAEhD,iFAAiF;AAEjF,uBAAuB;AACvB,sBAAsB;AACtB,8BAA8B;AAC9B,sEAAsE;AACtE,4CAA4C;AAC5C,iBAAiB;AAEjB,sBAAsB;AACtB,gCAAgC;AAChC,iBAAiB;AAEjB,gBAAgB;AAChB,kCAAkC;AAClC,gCAAgC;AAChC,YAAY;AACZ,8EAA8E;AAC9E,0BAA0B;AAC1B,2DAA2D;AAC3D,iDAAiD;AACjD,YAAY;AACZ,uCAAuC;AACvC,sBAAsB;AACtB,0BAA0B;AAC1B,kDAAkD;AAClD,gDAAgD;AAChD,yCAAyC;AACzC,sBAAsB;AACtB,4BAA4B;AAC5B,0CAA0C;AAC1C,QAAQ;AACR,OAAO;AAEP,kBAAkB;AAClB,oCAAoC;AACpC,YAAY;AACZ,yEAAyE;AACzE,0BAA0B;AAC1B,2DAA2D;AAC3D,sDAAsD;AACtD,YAAY;AACZ,uCAAuC;AACvC,sBAAsB;AACtB,8BAA8B;AAC9B,6FAA6F;AAC7F,yCAAyC;AACzC,sBAAsB;AACtB,4BAA4B;AAC5B,4CAA4C;AAC5C,QAAQ;AACR,OAAO;AAEP,2BAA2B;AAC3B,sCAAsC;AACtC,wBAAwB;AACxB,kBAAkB;AAClB,sBAAsB;AACtB,mBAAmB;AACnB,OAAO;AAEP,aAAa;AACb,yEAAyE;AACzE,8BAA8B;AAC9B,aAAa;AACb,sEAAsE;AACtE,mBAAmB;AACnB,yCAAyC;AACzC,kCAAkC;AAClC,6DAA6D;AAC7D,iDAAiD;AACjD,eAAe;AACf,oBAAoB;AACpB,gCAAgC;AAChC,4DAA4D;AAC5D,cAAc;AACd,uBAAuB;AACvB,sBAAsB;AACtB,cAAc;AACd,cAAc;AACd,aAAa;AACb,mEAAmE;AACnE,mBAAmB;AACnB,gCAAgC;AAChC,0BAA0B;AAC1B,qDAAqD;AACrD,iDAAiD;AACjD,eAAe;AACf,oBAAoB;AACpB,kCAAkC;AAClC,kEAAkE;AAClE,cAAc;AACd,iCAAiC;AACjC,sBAAsB;AAEtB,oBAAoB;AACpB,0CAA0C;AAC1C,sDAAsD;AACtD,cAAc;AACd,kCAAkC;AAClC,sBAAsB;AAEtB,oBAAoB;AACpB,gCAAgC;AAChC,gIAAgI;AAChI,oCAAoC;AACpC,cAAc;AACd,qEAAqE;AACrE,sBAAsB;AACtB,cAAc;AACd,WAAW;AACX,oEAAoE;AACpE,aAAa;AACb,OAAO;AACP,IAAI"}}]
}